document.addEventListener("DOMContentLoaded",function(){"use strict";let d;function n(t,n=!1,a){let r=new XMLHttpRequest,i=!1,o,s;r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)if(200===r.status){let e=(new DOMParser).parseFromString(r.responseText,"text/html");(o=n&&(o=e.getElementById(n.id))||e)?s=Array.from(o.children):i="Контейнер с id «"+n.id+"» не найден в запросе "+t+"\n",s?(a.parentNode.removeChild(a),s.forEach(e=>{e.classList.contains("more")?(a.href=e.href,a.innerHTML=d,a.classList.remove("loading"),n.appendChild(a)):n.appendChild(e)})):i+="Элементы не найдены",i&&console.warn(i)}else 400==r.status?console.warn("Ошибка 400 в ajax-запросе"):console.warn("Неизвестная ошибка в ajax-запросе")},r.open("GET",t,!0),r.send()}function a(e){for(;e&&e.parentNode;)if((e=e.parentNode)&&void 0!==e.id&&"ctrl_panel"!=e.id)return e;return null}var e=document.getElementsByClassName("more");[].forEach.call(e,function(e){var t;(t=e).addEventListener("click",function(e){d=t.innerHTML,t.innerHTML="Загрузка…",t.classList.add("loading"),t.disabled=!0,-1!==this.href.indexOf("ajax_get")?n(this.href,a(t),t):n(this.href+"&ajax_get=Y",a(t),t),e.preventDefault(),e.stopPropagation()},!1)})});
//# sourceMappingURL=script.min.js.map